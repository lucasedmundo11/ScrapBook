tags:
  - Administration
summary: Get Scraping Job Status
description: Verificar status de um job de scraping específico (requer autenticação de admin)
produces:
  - application/json
security:
  - Bearer: []
parameters:
  - name: job_id
    in: path
    type: string
    required: true
    description: Scraping job ID
    example: "scraping_job_20250810_103000"
responses:
  200:
    description: Scraping job status retrieved successfully
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          properties:
            job_id:
              type: string
              example: "scraping_job_20250810_103000"
            status:
              type: string
              enum: ["started", "running", "completed", "failed"]
              example: "completed"
            started_at:
              type: string
              example: "2025-08-10T10:30:00Z"
            completed_at:
              type: string
              example: "2025-08-10T10:45:00Z"
            started_by:
              type: string
              example: "admin"
            parameters:
              type: object
              properties:
                extract_full_details:
                  type: boolean
                  example: true
                max_pages:
                  type: integer
                  example: 10
            progress:
              type: object
              properties:
                current_step:
                  type: string
                  example: "completed"
                total_steps:
                  type: integer
                  example: 3
                completed_steps:
                  type: integer
                  example: 3
            result:
              type: object
              properties:
                books_scraped:
                  type: integer
                  example: 1000
                categories_found:
                  type: integer
                  example: 50
                pipeline_duration:
                  type: number
                  example: 892.5
            error:
              type: object
              nullable: true
              properties:
                message:
                  type: string
                  example: "Connection timeout"
                type:
                  type: string
                  example: "ConnectionError"
        message:
          type: string
          example: "Scraping job status retrieved successfully"
        timestamp:
          type: string
          example: "2025-08-10T10:30:00Z"
  401:
    description: Authentication required
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
              example: "UNAUTHORIZED"
            message:
              type: string
              example: "Authentication required"
  403:
    description: Insufficient permissions - Admin required
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
              example: "INSUFFICIENT_PERMISSIONS"
            message:
              type: string
              example: "Admin privileges required to check scraping status"
  404:
    description: Job not found
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
              example: "JOB_NOT_FOUND"
            message:
              type: string
              example: "Scraping job scraping_job_20250810_103000 not found"
  500:
    description: Internal server error
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
              example: "SCRAPING_STATUS_ERROR"
            message:
              type: string
              example: "Failed to fetch scraping status"
